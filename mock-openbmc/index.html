<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>OpenBMC Mock WebUI</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; background: #f5f5f5; }
        .container { background: white; padding: 20px; border-radius: 8px; max-width: 600px; }
        h1 { color: #007acc; }
        .status { color: green; font-weight: bold; }
        input, button { padding: 8px; margin: 5px 0; width: 100%; box-sizing: border-box; }
        button { background: #007acc; color: white; border: none; cursor: pointer; }
        button:hover { background: #005a9e; }
    </style>
</head>
<body>
    <div class="container">
        <h1>OpenBMC Mock WebUI</h1>
        <form id="login-form">
            <input type="text" id="username" name="username" placeholder="Username" required>
            <input type="password" id="password" name="password" placeholder="Password" required>
            <button type="submit" id="login">Login</button>
        </form>
        <p class="status" id="status" style="display:none;">✅ Успешный вход!</p>
    </div>

    <script>
        document.getElementById('login-form').addEventListener('submit', function(e) {
            e.preventDefault();
            fetch('/login', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    username: document.getElementById('username').value,
                    password: document.getElementById('password').value
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.status === 'success') {
                    document.getElementById('status').style.display = 'block';
                    document.getElementById('login-form').style.display = 'none';
                }
            })
            .catch(err => console.error('Login error:', err));
        });
    </script>
</body>
</html>